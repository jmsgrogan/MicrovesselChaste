<!DOCTYPE html>
<html>
  <head>

    <title>Getting into Scaladoc Development | Microvessel Chaste</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

      <!--<link rel="icon" type="image/png" href="https://jmsgrogan.github.io/MicrovesselChaste/resources/favicon.ico">-->
      <!--<link rel="shortcut icon" type="image/png" href="https://jmsgrogan.github.io/MicrovesselChaste/resources/favicon.ico">-->

    <!-- prettify CSS (corresponding js at footer)-->
    <link rel="stylesheet" href="https://jmsgrogan.github.io/MicrovesselChaste/resources/css/prettify.css" type="text/css" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://jmsgrogan.github.io/MicrovesselChaste/resources/css/bootstrap.css" type="text/css" />

    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,400italic,700italic' rel='stylesheet' type='text/css'>

    <!-- Custom stylesheet -->
    <link rel="stylesheet" href="https://jmsgrogan.github.io/MicrovesselChaste/resources/css/main.css" type="text/css" />

    <!-- Typekit (should stay at top of page, do not move to footer)-->
    <script type="text/javascript" src="//use.typekit.net/abh3wgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="https://jmsgrogan.github.io/MicrovesselChaste/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="https://jmsgrogan.github.io/MicrovesselChaste/feed/blog.xml" />


  </head>
  <body>


<div class="darkstrip"></div>

<div class="darkbluetopbar">
  <div class="container" style="height: 100%">
    <div class="navbar-wrap">
      <div class="container" style="position: relative; height: 100%;">
        <div class="scala-logo">
          <a href="https://jmsgrogan.github.io/MicrovesselChaste/index.html"><img src="https://jmsgrogan.github.io/MicrovesselChaste/resources/img/scala-logo-white-sm.png" alt="white Scala logo" /></a>
        </div>
        <ul class="nav">
  <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/documentation/">Documentation</a></li>
  <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/documentation/installation/">Download</a></li>
  <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/community/">Community</a></li>
  <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/contribute/">Contribute</a></li>
  <li id="source-code" >
    <a href="https://github.com/jmsgrogan/MicrovesselChaste"><img src="https://jmsgrogan.github.io/MicrovesselChaste/resources/img/github-logo.png" alt="GitHub Logo" /></a>
    <div class="toptip">Source Code</div>
  </li>
  <li id="scala-lang-twitter">
    <a href="https://twitter.com/chaste_project"><img src="https://jmsgrogan.github.io/MicrovesselChaste/resources/img/twitter-logo-white.png" alt="Twitter Logo" /></a>
    <div class="toptip">Chaste on Twitter</div>
  </li>
</ul>

      </div>
    </div>
  </div>
</div>

<div class="midbluebar">
  <div class="container">
    <h1 id="page-title">Getting into Scaladoc Development</h1>
  </div>
</div>

<div class="page-container">
  <div class="container" style="min-height: 540px;">
    <!-- <div class="row"> -->
      <!-- <div class="span12"> -->
          <div class="main-page-column">
            <div class="article-date">March 17, 2016</div>
            
              <div class="written">Written By: <span class="by">Felix Mulder</span></div>
            
            <p>Over the past months I&#39;ve been working on the new Scaladoc - and it&#39;s coming
along nicely. Together with
<a href="http://twitter.com/heathercmiller">@heathercmiller</a> and
<a href="http://twitter.com/vladureche">@vladureche</a> we&#39;ve overhauled the overall look
of Scaladoc as well as having added a bunch of useful features - like complete
member search!</p>

<p>With the new Scala Center recently announced, one of the things discussed has
been how to lower the entry barrier on important open source projects. This blog
post aims to do exactly that for Scaladoc. There are a lot of things we want
to do with the docs - and we&#39;d love help! If that piques your interest - read on.</p>

<h2>Scaladoc for 2.12.x</h2>

<p>The new major version of Scala is scheduled for later this year, and currently
its doc tool generates sites like this one:</p>

<p><img src="http://i.imgur.com/TOkD4JF.png" alt="Scala Collections"></p>

<p>The new search functionality allows you to not only look for so called
&quot;top-level entities&quot; (<code>class</code>, <code>trait</code>, <code>object</code> and <code>package</code>) but members like
methods and even <code>val</code> and <code>var</code>s. The new search is not at all taxing, on a
big library like the collections - the results are shown almost
instantaneously. Nevertheless, we&#39;ve got a progress bar showing you something&#39;s
actually happening:</p>

<p><img src="http://imgur.com/jLxcRpx.png" alt="Scala Collections"></p>

<h2>How does Scaladoc work?</h2>

<p>The Scaladoc tool is quite easy to understand - there are basically three things
that happen once you&#39;ve specified what you want documented:</p>

<ol>
<li>Scaladoc compiles the sources using the first step of the compiler (the
frontend). This will fill a tree structure known as <code>Universe</code> with all the
information about the sources (classes, members, doc string etc).</li>
</ol>

<p><strong>See:</strong> <a href="https://github.com/scala/scala/blob/2.12.x/src/scaladoc/scala/tools/nsc/doc/DocFactory.scala">DocFactory.scala</a></p>

<ol>
<li>Copy all needed assets to out location (i.e. scripts and CSS-files)</li>
</ol>

<p><strong>See:</strong> <a href="https://github.com/scala/scala/blob/2.12.x/src/scaladoc/scala/tools/nsc/doc/html/HtmlFactory.scala">HtmlFactory.scala</a>.</p>

<ol>
<li>Traverse the <code>Universe</code> tree and for each top-level entity create an
HTML-page using the <code>Entity</code> class.</li>
</ol>

<p><strong>See:</strong> <a href="https://github.com/scala/scala/blob/2.12.x/src/scaladoc/scala/tools/nsc/doc/html/page/Entity.scala">Entity.scala</a></p>

<p>The bulk of these steps are carried out inside the <code>HtmlFactory</code> class in
<a href="https://github.com/scala/scala/blob/2.12.x/src/scaladoc/scala/tools/nsc/doc/html/HtmlFactory.scala">HtmlFactory.scala</a>.
Have a look there for a more complete overview.</p>

<h2>How do I generate the docs?</h2>

<p>Simple:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ git clone git@github.com:scala/scala.git &amp;&amp; cd scala
$ ant docs # "ant docs.lib" if you just want the standard library
</code></pre></div>
<h2>Where to begin</h2>

<p>The markup of the entity page is defined in
<a href="https://github.com/scala/scala/blob/2.12.x/src/scaladoc/scala/tools/nsc/doc/html/page/Entity.scala">Entity.scala</a>.
If you&#39;re looking to change the HTML that&#39;s where you will want to look first.</p>

<p>If you want to add some static asset, remember that <code>HtmlFactory</code> needs to copy
it to the destination. So be sure to add your new resource to <code>libResources</code> in
<a href="https://github.com/scala/scala/blob/2.12.x/src/scaladoc/scala/tools/nsc/doc/html/HtmlFactory.scala">HtmlFactory.scala</a>.</p>

<p>All the current static assets are located in the
<a href="https://github.com/scala/scala/tree/2.12.x/src/scaladoc/scala/tools/nsc/doc/html/resource/lib">lib</a> directory.
That&#39;s where you&#39;d want to put new things (it is also where <code>index.js</code> etc live!)</p>

<p><strong>How can I see my changes?</strong> You have two options, if you changed the markup -
you&#39;ll need to regenerate the docs:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ ant docs.clean &amp;&amp; ant docs
</code></pre></div>
<p>When the changes are to scripts or style sheets I use a small <code>Makefile</code> in the
root of the project. This makefile will simply copy the resources to the same location
as the generated docs:</p>
<div class="highlight"><pre><code class="language-" data-lang="">all:
    cp src/scaladoc/scala/tools/nsc/doc/html/resource/lib/{index.css,index.js,template.css,template.js,diagrams.css,diagrams.js} build/scaladoc/library/lib/
</code></pre></div>
<p>Regenerating the docs all the time is a pain - if you just want to generate
them for a single file, do this:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ ant quick.bin
$ build/quick/bin/scaladoc path/to/source/File.scala
</code></pre></div>
<p>Lastly, before you open your pull request - test your changes!</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ ant test.scaladoc
</code></pre></div>
<h2>Where to really begin</h2>

<p>There&#39;s still a lot of things to do before this can be considered release ready.
Here&#39;s a laundry list of things we need to do:</p>

<ul>
<li>General

<ul>
<li>Async all the things! We should be able to parallelize the generation of
the doc pages</li>
<li>CSS cleanup! There are a lot of things not necessary anymore, these could
simply be deleted</li>
</ul></li>
<li>Mobile, the docs look decent on mobile - but there&#39;s still a ton to do!

<ul>
<li>Landscape kills some of our layout</li>
<li>There is no good package overview (list on the right) - ideas welcome!</li>
</ul></li>
<li>Desktop

<ul>
<li>Keyboard navigation on entity pages (i.e. between members)</li>
<li>Better keyboard navigation on search results</li>
<li>Minor layout issues</li>
<li>Showing existence of companion <code>class</code>/<code>trait</code>/<code>object</code> (maybe <em>&quot;You
won&#39;t believe who</em> <code>Companion object Boolean</code> <em>is going home with
tonight!&quot;</em>)</li>
</ul></li>
</ul>

<p>The full list of ideas and things to do can be found on
<a href="https://github.com/scala/scala-dev/issues/84">scala-dev</a>. Comment on the issue
or reach out to one of us (@felixmulder, @heathermiller, @vladureche) on the
<a href="https://gitter.im/scala/contributors">scala/contributors gitter</a> if you&#39;re
interested in knowing more!</p>

            
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  
    var disqus_shortname = 'scalasip'; // required: replace example with your forum shortname
  

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
          <div class="sidebar">
            <div class="sidebar-inner">
              <div id="toc"></div>
            </div>
          </div>
          <div style="clear:both"></div>
      <!-- </div> -->
    <!-- </div> -->
  </div>
</div>


  <div class="footer">
  <div class="container">
    <ul>
      <li><h5>Documentation</h5></li>
      <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/documentation/getting-started.html">Getting Started</a></li>
      <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/documentation/python-api/index.html">Python API</a></li>
      <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/documentation/cpp-api/index.html">C++ API</a></li>
      <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/documentation/tutorials.html">Tutorials</a></li>
    </ul>
    <ul>
      <li><h5>Download</h5></li>
        <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/documentation/installation.html">Instructions</a></li>
    </ul>
    <ul>
      <li><h5>Community</h5></li>
      <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/community/">Community</a></li>
      <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/community/index.html#mailing-lists">Mailing Lists</a></li>
    </ul>
    <ul>
      <li><h5>Contribute</h5></li>
      <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/contribute">How to Help</a></li>
      <li><a href="https://jmsgrogan.github.io/MicrovesselChaste/contribute/">Report an Issue</a></li>
    </ul>
    </div>
    <div class="container">
      <div class="copyright">
        <p style="float: left;"><br/>Copyright &copy; 2015-<span class="current-year"></span> University of Oxford<br/> Oxford, United Kingdom. Released under <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.<br />
Source code for this website was modified from the <a href="https://www.scala-lang.org/">scala website</a> on <a href="https://www.scala-lang.org/">github</a>. <br />
See <a href="https://raw.github.com/scala/scala-lang/master/license.md">original license</a> for details. </p>
      </div>
      <div class="scala-logo-footer">
        <img src="https://jmsgrogan.github.io/MicrovesselChaste/resources/img/mvc_logo_25.png" alt="Microvessel Chaste Logo" />
      </div>
    </div> <!-- container -->
    </div> <!-- footer -->

    <!-- prettify  js -->
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/prettify/prettify.js" type="text/javascript" ></script>
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/prettify/lang-scala.js" type="text/javascript" ></script>

    <!-- jquery js -->
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/jquery-1.8.3.min.js" type="text/javascript" ></script>
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/jquery.stellar.min.js" type="text/javascript" ></script>
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/tweetMachine.min.js" type="text/javascript" ></script>

    <!-- modernizr js -->
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js" type="text/javascript" ></script>

    <!-- retina js -->
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/retina.js" type="text/javascript" ></script>

    <!-- backstretch js -->
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/jquery.backstretch.min.js" type="text/javascript" ></script>

    <!-- Bootstrap JS -->
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/bootstrap.min.js" type="text/javascript" ></script>

    
    <!-- table of contents JS -->
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/vendor/toc.js" type="text/javascript" ></script>
    <script type="text/javascript">
      $(document).ready(function(){
        $('#toc').toc({exclude: 'h1, h5, h6', context: '', autoId: true, numerate: false});
        function moveScroller() {
          if ($(".sidebar").length == 0)
            return;
          var a = function() {
            var topOfScroll = $(window).scrollTop();
            var topOfSidebar = $(".sidebar").offset().top;
            var sidebarInner = $(".sidebar-inner");
            var bottomOfSidebarInner = $(".sidebar-inner").offset().top + $(".sidebar-inner").outerHeight();
            var topOfFooter = $(".footer").offset().top - 10;
            var footerHeight = $(".footer").outerHeight();
            if (topOfScroll > topOfSidebar) {
              if (bottomOfSidebarInner > topOfFooter) {
                sidebarInner.css({position:"fixed",bottom:footerHeight,top:""});
              } else {
                sidebarInner.css({position:"fixed",top:"10px",bottom:""});
              }
            } else {
              sidebarInner.css({position:"relative",top:""});
            }
          };
          $(window).scroll(a);a()
        }
        moveScroller();
      })
    </script>
    

    <!-- Custom javascript -->
    <script src="https://jmsgrogan.github.io/MicrovesselChaste/resources/js/main.js" type="text/javascript"></script>
  </body>
</html>

